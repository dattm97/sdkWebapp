"use strict";(self.webpackChunkpayme_mini_app=self.webpackChunkpayme_mini_app||[]).push([[115],{53115:function(e,n,i){i.r(n),i.d(n,{ForgotPassResetPinConfirm:function(){return w},default:function(){return y}});var t=i(29439),o=i(72791),l=i(62812),r=i(52791),s=i(45798),a=i(62038),d=i(57405),u=i(57689),c=i(11087),p=i(22940),v=i(33168),f=i(69745),h=i(64740),x=i(66030),m=i(69291),g=i(80184);var C=function(){var e,n,i,C,j=(0,v.$)().t,Z=(0,u.s0)(),P=(0,h.CG)(x.Ty),I=(0,c.lr)(),T=(0,t.Z)(I,1)[0].get("confirmCode"),k=(0,o.useRef)(null);return(0,g.jsxs)(f.x,{children:[(0,g.jsx)(s.Z,{title:"ResetPin"}),(0,g.jsx)(a.u3,{sx:{padding:2.5,paddingTop:"IOS"===(null===P||void 0===P||null===(e=P.platform)||void 0===e?void 0:e.toUpperCase())||"ANDROID"===(null===P||void 0===P||null===(n=P.platform)||void 0===n?void 0:n.toUpperCase())?0:2.5,paddingBottom:"IOS"===(null===P||void 0===P||null===(i=P.platform)||void 0===i?void 0:i.toUpperCase())||"ANDROID"===(null===P||void 0===P||null===(C=P.platform)||void 0===C?void 0:C.toUpperCase())?0:2.5},display:"flex",flexDirection:"column",justifyContent:"space-between",children:(0,g.jsxs)(r.Z,{children:[(0,g.jsx)(p.Z,{isIconBack:!0,onClick:function(){return Z(-1)}}),(0,g.jsx)(r.Z,{sx:{paddingTop:2.5}}),(0,g.jsx)(l.Z,{variant:"h2",children:j("auth.createNewPayMEPin")}),(0,g.jsx)(r.Z,{sx:{paddingTop:.5}}),(0,g.jsx)(l.Z,{variant:"subtitle1",color:"text.subtitle",children:j("auth.pleaseEnterPin")}),(0,g.jsx)(r.Z,{sx:{paddingTop:9}}),(0,g.jsx)(d.Z,{ref:k,id:"create",isPassword:!0,numOfCell:6,value:"",onFilled:function(e){var n,i,t;e&&((0,m.vc)(e)?(null===(n=k.current)||void 0===n||n.setErrorMessage("PayME PIN kh\xf4ng h\u1ee3p l\u1ec7. B\u1ea1n ki\u1ec3m tra v\xe0 nh\u1eadp l\u1ea1i."),null===(i=k.current)||void 0===i||i.showError()):Z("/forgot-pass/reset-pin-confirm?confirmCode=".concat(T||"","&pin=").concat((null===(t=k.current)||void 0===t?void 0:t.value)||"")))}})]})})]})},j=i(32232),Z=i(71239),P=i(4440),I=i(89704),T=i(34705),k=i(95218);var w=function(){var e,n,i,m,C=(0,h.TL)(),w=(0,h.CG)(x.Ty),y=(0,h.CG)(P.hL),E=(0,h.CG)(x.vI),b=(0,v.$)().t,D=(0,c.lr)(),O=(0,t.Z)(D,1)[0],M=O.get("pin"),N=O.get("confirmCode"),R=(0,u.s0)(),B=(0,o.useRef)(null);return(0,g.jsxs)(f.x,{children:[(0,g.jsx)(s.Z,{title:"ResetPinConfirm"}),(0,g.jsx)(j.Z,{in:!0,timeout:500,direction:"left",children:(0,g.jsx)(a.u3,{sx:{padding:2.5,paddingTop:"IOS"===(null===w||void 0===w||null===(e=w.platform)||void 0===e?void 0:e.toUpperCase())||"ANDROID"===(null===w||void 0===w||null===(n=w.platform)||void 0===n?void 0:n.toUpperCase())?0:2.5,paddingBottom:"IOS"===(null===w||void 0===w||null===(i=w.platform)||void 0===i?void 0:i.toUpperCase())||"ANDROID"===(null===w||void 0===w||null===(m=w.platform)||void 0===m?void 0:m.toUpperCase())?0:2.5},display:"flex",flexDirection:"column",justifyContent:"space-between",children:(0,g.jsxs)(r.Z,{children:[(0,g.jsx)(p.Z,{isIconBack:!0,onClick:function(){return R(-1)}}),(0,g.jsx)(r.Z,{sx:{paddingTop:2.5}}),(0,g.jsx)(l.Z,{variant:"h2",children:b("auth.confirmNewPin")}),(0,g.jsx)(r.Z,{sx:{paddingTop:.5}}),(0,g.jsx)(l.Z,{variant:"subtitle1",color:"text.subtitle",children:b("auth.reEnterPin")}),(0,g.jsx)(r.Z,{sx:{paddingTop:9}}),(0,g.jsx)(d.Z,{ref:B,id:"confirm",isPassword:!0,numOfCell:6,value:"",onFilled:function(){var e,n,i;(null===(e=B.current)||void 0===e?void 0:e.value)===M?C(Z.Yy.updatePin({phone:null===y||void 0===y?void 0:y.phone,clientId:E,password:(0,I.SHA256)(M).toString(),confirmCode:N},(function(e,n){var i,t,o;e?200308===n.code?C(Z.Yy.login({activeCode:"",phone:null===y||void 0===y?void 0:y.phone,password:(0,I.SHA256)(M).toString(),clientId:E},(function(e,n){if(e)if(2e5===n.code)C((0,T.jM)(n.data.accessToken)),R("/home",{replace:!0});else if(200011===n.code)k.Z.alertContent={title:"T\u1ea1m kho\xe1 PayME PIN",subtitle:n.message,firstButtonTitle:"\u0110\xe3 hi\u1ec3u"};else{var i,t,o;null===(i=B.current)||void 0===i||i.setErrorMessage(n.message),null===(t=B.current)||void 0===t||null===(o=t.showError)||void 0===o||o.call(t)}else k.Z.alertContent={title:"L\u1ed7i k\u1ebft n\u1ed1i",subtitle:n.message,firstButtonTitle:"\u0110\xe3 hi\u1ec3u"}}))):(null===(i=B.current)||void 0===i||i.setErrorMessage(n.message),null===(t=B.current)||void 0===t||null===(o=t.showError)||void 0===o||o.call(t)):k.Z.alertContent={title:"L\u1ed7i k\u1ebft n\u1ed1i",subtitle:n.message,firstButtonTitle:"\u0110\xe3 hi\u1ec3u"}}))):(null===(n=B.current)||void 0===n||n.setErrorMessage("PayME PIN m\u1edbi kh\xf4ng \u0111\u01b0\u1ee3c tr\xf9ng m\xe3 hi\u1ec7n t\u1ea1i."),null===(i=B.current)||void 0===i||i.showError())}})]})})})]})},y=C}}]);
//# sourceMappingURL=115.5327bf61.chunk.js.map