(this.webpackJsonppaymesdk=this.webpackJsonppaymesdk||[]).push([[120],{867:function(e,t,a){"use strict";a.r(t);var n=a(13),l=a(10),i=a(96),o=a(0),c=a.n(o),d=a(9),r=a(75),s=a(18),u=a(26),v=a.n(u),p=a(328),b=a(19),g=a(20),m=a(36),f=a(54),O=a(21),h=a(12),E=a(159),y=a(69),j=a(16),C=a(22),x=a(62),P=a(15),k=a(23),I=a(94),S=a(462),w=a(11),R=a(17),N="ACTIVE",A="DISABLE";t.default=function(){var e,t,a=Object(C.a)(),u=Object(r.useLocation)(),V=Object(r.useHistory)(),D=Object(d.d)().getState().sk.configColor.bgColor,T=Object(o.useState)(""),B=Object(l.a)(T,2),K=B[0],L=B[1],M=Object(o.useState)(A),W=Object(l.a)(M,2),U=W[0],X=W[1],J=Object(o.useState)(""),Y=Object(l.a)(J,2),_=Y[0],z=Y[1],F=Object(o.useState)(""),G=Object(l.a)(F,2),H=G[0],q=G[1],Q=Object(d.b)(),Z=Object(s.bindActionCreators)(m,Q),$=null===u||void 0===u||null===(e=u.state)||void 0===e?void 0:e.phone,ee=null===u||void 0===u||null===(t=u.state)||void 0===t?void 0:t.updateToken,te=Object(d.c)((function(e){var t;return null===e||void 0===e||null===(t=e.ud)||void 0===t?void 0:t.handShake})),ae=Object(d.c)((function(e){var t;return null===e||void 0===e||null===(t=e.sk)||void 0===t?void 0:t.clientId})),ne=Object(d.c)((function(e){var t;return null===e||void 0===e||null===(t=e.ud)||void 0===t?void 0:t.appEnv})),le=Object(d.c)((function(e){var t;return null===e||void 0===e||null===(t=e.ud)||void 0===t?void 0:t.fullnameKyc})),ie=Object(d.c)((function(e){var t;return null===(t=e.sk)||void 0===t?void 0:t.partner})),oe=Object(C.b)(),ce=f.a.getdataChucVu(),de=f.a.getdataNganhNghe(),re=Object(o.useState)(!1),se=Object(l.a)(re,2),ue=se[0],ve=se[1],pe=Object(o.useState)(null),be=Object(l.a)(pe,2),ge=be[0],me=be[1],fe=Object(o.useState)(""),Oe=Object(l.a)(fe,2),he=Oe[0],Ee=Oe[1],ye=Object(o.useState)(null),je=Object(l.a)(ye,2),Ce=je[0],xe=je[1],Pe=Object(o.useState)(null),ke=Object(l.a)(Pe,2),Ie=ke[0],Se=ke[1];Object(o.useEffect)((function(){K&&6===_.length&&6===H.length?X(N):X(A)}),[_,H,K]),Object(o.useEffect)((function(){le&&L(le)}),[le]),Object(o.useEffect)((function(){var e=document.getElementById("password"),t=document.getElementById("re-password");e&&e.addEventListener("keypress",(function(e){(e.which<48||e.which>57)&&e.preventDefault()})),t&&t.addEventListener("keypress",(function(e){(e.which<48||e.which>57)&&e.preventDefault()}))}),[]);var we=function(){Z.findAccount({accountPhone:$},(function(e,t){var a,l,i,o,c,d=f.a.getKycMode(),r={kycVideo:null===d||void 0===d?void 0:d.kycVideo,kycIdentifyImg:null===d||void 0===d?void 0:d.identifyImg,kycFace:null===d||void 0===d?void 0:d.faceImg};e&&("EXPO"!==v()(null!==(a=null===ie||void 0===ie?void 0:ie.type)&&void 0!==a?a:"")&&(null===t||void 0===t||null===(l=t.Account)||void 0===l||null===(i=l.kyc)||void 0===i?void 0:i.state)!==I.c.APPROVED&&(null===t||void 0===t||null===(o=t.Account)||void 0===o||null===(c=o.kyc)||void 0===c?void 0:c.state)!==I.c.PENDING&&O.b.next({type:"onKyc",actions:"onKyc",data:r}));!function(){var e,t,a;if("SANDBOX"===ne)return g.b.next({message:h.a.messageErrorFunctionProduction,isVisible:!0}),void V.replace("/");"WEB"!==v()(null!==(e=null===ie||void 0===ie?void 0:ie.type)&&void 0!==e?e:"")&&"EXPO"!==v()(null!==(t=null===ie||void 0===ie?void 0:ie.type)&&void 0!==t?t:"")||Q({type:j.B,payload:!0}),"EXPO"!==v()(null!==(a=null===ie||void 0===ie?void 0:ie.type)&&void 0!==a?a:"")&&O.b.next({type:"onCommunicate",actions:"onRegisterSuccess",data:{Init:Object(n.a)(Object(n.a)({},f.a.getInit().Init),{},{isAccountActived:!0})}}),V.replace("/")}()}))},Re=function(e){var t=e.title,a=e.textValue,n=e.placeholder,l=e.setPopupOpen;return c.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,padding:"8px 16px",margin:"6px 0px",borderRadius:15,backgroundColor:"rgb(239, 242, 247)"},onClick:l,onKeyPress:l},c.a.createElement("p",{style:{fontSize:12,color:"rgb(165, 174, 184)",textTransform:"uppercase"}},t),c.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flex:1}},a&&c.a.createElement("p",{className:"font-semibold",style:{fontSize:15,color:"#000000"}},a),!a&&n&&c.a.createElement("p",{style:{fontSize:15,color:"#C0C0C0"}},n),c.a.createElement("img",{style:{width:18,height:18},src:w.b.dropdownPicker,alt:""})))};return c.a.createElement("div",{className:"inputRegister",style:{height:Object(P.a)().height}},c.a.createElement("div",{className:"header",id:"header",style:{paddingTop:oe,background:D}},c.a.createElement("div",{className:"headerInner row"},c.a.createElement("div",{className:"headerLeft col-2 nopadding"},c.a.createElement(k.a,{actions:"home"})),c.a.createElement("div",{className:"headerCenter col nopadding"},c.a.createElement("p",{className:"headerTitle font-semibold"},"Th\xf4ng tin \u0111\u0103ng nh\u1eadp v\xed PayME")),c.a.createElement("div",{className:"headerRight col-2 nopadding"}))),c.a.createElement("div",{className:"inputContainer"},c.a.createElement("div",{className:"inputContainerInner"},c.a.createElement(x.a,{autoFocus:!0,value:K,editable:!le,title:h.a.nameRegisterTitle,type:"text",maxLength:26,placeholder:h.a.nameRegisterPlaceholder,onChange:function(e){L(e.target.value)}}),c.a.createElement(x.a,{id:"password",value:_,title:h.a.passwordRegisterTitle,type:"password",pattern:"[0-9]*",inputMode:"numeric",maxLength:6,placeholder:h.a.passwordRegisterPlaceholder,onChange:function(e){z(e.target.value)}}),c.a.createElement(x.a,{id:"re-password",value:H,title:h.a.confirmPasswordRegisterTitle,type:"password",pattern:"[0-9]*",inputMode:"numeric",maxLength:6,placeholder:h.a.confirmPasswordRegisterPlaceholder,onChange:function(e){q(e.target.value)}}),c.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},Re({title:h.a.Position,textValue:Ie,placeholder:h.a.ChooseAPosition,setPopupOpen:function(){Ee(h.a.ChooseAPosition),me(ce),ve(!0)}})),c.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},Re({title:h.a.Career,textValue:Ce,placeholder:h.a.ChooseACareer,setPopupOpen:function(){Ee(h.a.ChooseACareer),me(de),ve(!0)}})))),c.a.createElement("div",{className:"fixBottom",style:{paddingBottom:a}},c.a.createElement(b.a,{className:"btn",label:h.a.Next,variant:U===N?"active":"disabled",onClick:function(){return function(){if(K&&6===_.length&&6===H.length){if(K.length<4)return void g.b.next({message:h.a.registerMsgError4,isVisible:!0});if(_!==H)return void g.b.next({message:h.a.registerMsgError5,isVisible:!0});Object(R.c)(_)?g.b.next({message:h.a.registerMsgError2,isVisible:!0}):Z.updateRegisterInfo({password:Object(i.SHA256)(H).toString(),fullname:K,clientId:ae,updateToken:ee,career:Ce,position:Ie},(function(e,t){var a,l,i,o,c,d,r;if(e)if(null===t||void 0===t||null===(a=t.OpenEWallet)||void 0===a||null===(l=a.UpdateRegisterInfo)||void 0===l?void 0:l.succeeded){if(we(),"WEB"===v()(null!==(i=null===ie||void 0===ie?void 0:ie.type)&&void 0!==i?i:"")||"EXPO"===v()(null!==(o=null===ie||void 0===ie?void 0:ie.type)&&void 0!==o?o:"")){var s,u,p,b,m,f,h,j,C,x,P,k={type:E.a.RELOGIN,data:{handShake:te,accessToken:null===t||void 0===t||null===(s=t.OpenEWallet)||void 0===s||null===(u=s.UpdateRegisterInfo)||void 0===u?void 0:u.accessToken,accountStatus:y.a.NOT_KYC,phone:$}};"APPROVED"===(null===t||void 0===t||null===(p=t.OpenEWallet)||void 0===p||null===(b=p.UpdateRegisterInfo)||void 0===b||null===(m=b.kyc)||void 0===m?void 0:m.state)?k=Object(n.a)(Object(n.a)({},k),{},{data:Object(n.a)(Object(n.a)({},k.data),{},{accountStatus:y.a.KYC_APPROVED})}):"PENDING"===(null===t||void 0===t||null===(f=t.OpenEWallet)||void 0===f||null===(h=f.UpdateRegisterInfo)||void 0===h||null===(j=h.kyc)||void 0===j?void 0:j.state)?k=Object(n.a)(Object(n.a)({},k),{},{data:Object(n.a)(Object(n.a)({},k.data),{},{accountStatus:y.a.KYC_REVIEW})}):"REJECTED"===(null===t||void 0===t||null===(C=t.OpenEWallet)||void 0===C||null===(x=C.UpdateRegisterInfo)||void 0===x||null===(P=x.kyc)||void 0===P?void 0:P.state)&&(k=Object(n.a)(Object(n.a)({},k),{},{data:Object(n.a)(Object(n.a)({},k.data),{},{accountStatus:y.a.KYC_REJECTED})})),O.b.next(k)}}else g.b.next({message:null!==(c=null===t||void 0===t||null===(d=t.OpenEWallet)||void 0===d||null===(r=d.UpdateRegisterInfo)||void 0===r?void 0:r.message)&&void 0!==c?c:"C\xf3 l\u1ed7i t\u1eeb m\xe1y ch\u1ee7 h\u1ec7 th\u1ed1ng",isVisible:!0})}))}else g.b.next({message:h.a.registerMsgError6,isVisible:!0})}()}})),ue?c.a.createElement(S.a,{onSelected:function(e){return he===h.a.ChooseAPosition?Se(e):xe(e)},itemSelected:he===h.a.ChooseAPosition?Ie:Ce,title:he,data:ge,closeModal:function(){return ve(!1)}}):null,c.a.createElement(p.PopupboxContainer,null))}}}]);