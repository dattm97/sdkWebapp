"use strict";(self.webpackChunkpayme_mini_app=self.webpackChunkpayme_mini_app||[]).push([[445],{17445:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(29439),r=t(72791),u=t(50228),l=t(75579),c=t(22940),o=t(62038),i=t(33168),d=t(57689),s=t(11087),b=t(8349),f=t(69745),v=t(64740),p=t(66030),m=t(69291),k=t(73598),h=t(57343),C=t(59434),N=t(14604),g=t(95218),x=t(73915),Z=t(58345),j=t(72360),w=t(80184);function y(){var e,n,t,y,D=(0,v.CG)(h.$D),I=(0,v.CG)(p.Ty),L=(0,v.CG)(h.NH),A=(0,C.I0)(),B=(0,d.s0)(),E=(0,i.$)().t,H=(0,s.lr)(),S=(0,a.Z)(H,1)[0],G=(0,r.useRef)(null),O=S.get("type"),U=S.get("id"),_=(0,r.useState)(""),R=(0,a.Z)(_,2),M=R[0],T=R[1],$=(0,k.Z)(M,1e3),F=(0,r.useState)(!0),K=(0,a.Z)(F,2),P=K[0],q=K[1],z=null===D||void 0===D?void 0:D.find((function(e){return e.id.toString()===U}));(0,r.useEffect)((function(){"cardNumber"===O&&M.length>=((null===z||void 0===z?void 0:z.cardNumberLength)||16)+3&&J()}),[$]);var J=function(e){var n;"credit"!==O?A(N.A.detectBank({cardNumber:(0,m.I8)((null===(n=G.current)||void 0===n?void 0:n.value)||""),swiftCode:null===z||void 0===z?void 0:z.swiftCode,type:"LINKED"},(function(n,t){if(n)if(204900===t.code)(0,x.G)("Detect bank - ".concat(t.data.fullname)),t.data.fullname&&Q(t.data.fullname);else if(204901===t.code){var a,r;null===(a=G.current)||void 0===a||a.showError(),null===(r=G.current)||void 0===r||r.setErrorMessage(t.message)}else{if(e)return void e();g.Z.alertContent={title:"L\u1ed7i",subtitle:t.message,firstButtonTitle:"\u0110\xe3 hi\u1ec3u"}}}))):Q()},Q=function(e){var n;B("/add-bank?type=".concat(O||"","&id=").concat(U||"","&cardNumber=").concat((null===(n=G.current)||void 0===n?void 0:n.value)||"","&fullname=").concat(e||""))};return(0,w.jsxs)(f.x,{children:[(0,w.jsxs)(o.u3,{p:2.5,pt:"IOS"===(null===I||void 0===I||null===(e=I.platform)||void 0===e?void 0:e.toUpperCase())||"ANDROID"===(null===I||void 0===I||null===(n=I.platform)||void 0===n?void 0:n.toUpperCase())?0:2.5,pb:"IOS"===(null===I||void 0===I||null===(t=I.platform)||void 0===t?void 0:t.toUpperCase())||"ANDROID"===(null===I||void 0===I||null===(y=I.platform)||void 0===y?void 0:y.toUpperCase())?0:2.5,display:"flex",flexDirection:"column",justifyContent:"space-between",children:[(0,w.jsxs)(u.Z,{children:[(0,w.jsx)(c.Z,{isIconBack:!0,onClick:function(){return B(-1)}}),(0,w.jsx)(u.Z,{pt:2.5}),(0,w.jsx)(b.Z,{ref:G,label:function(){switch(O){case"account":return E("bank.bankAccountNumber");case"both":return"".concat(E("bank.bankAccountNumber"),"/").concat(E("bank.bankCardNumber").toLowerCase());case"cardNumber":default:return E("bank.bankCardNumber");case"credit":return E("bank.creditNumber")}}(),onChange:function(e){if("account"===(0,j.kv)(O||"",e.target.value))return e.target.value.length>9?q(!1):q(!0),e.target.value;var n=(0,m.yx)(e.target.value," ");return T(n),q(!n),n},placeholder:function(){switch(O){case"account":return E("bank.placeHolderAccountNumber");case"both":return"".concat(E("bank.placeHolderBoth"));case"cardNumber":default:return E("bank.placeHolderCardNumber");case"credit":return E("bank.placeHolderCredit")}}(),inputProps:{inputMode:"numeric",maxLength:null!==z&&void 0!==z&&z.cardNumberLength?z.cardNumberLength+3:19},autoFocus:!0,disabled:L}),(0,w.jsx)(u.Z,{pt:3})]}),(0,w.jsx)(u.Z,{width:"100%",display:"flex",flexDirection:"column",children:(0,w.jsx)(l.Z,{title:E("bank.addBank"),variant:"contained",disableElevation:!0,onClick:function(){return J(Q)},disabled:P,children:E("continue")})})]}),(0,w.jsx)(Z.Z,{label:"\u0110ang ki\u1ec3m tra",show:"cardNumber"!==O&&L})]})}}}]);
//# sourceMappingURL=445.3e6b4159.chunk.js.map