/*! For license information please see 74.bdaa525c.chunk.js.LICENSE.txt */
(this.webpackJsonppaymesdk=this.webpackJsonppaymesdk||[]).push([[74],{136:function(t,e,n){"use strict";var r=n(10),a=n(0),o=n.n(a),i=n(11),c=n(39);e.a=function(t){var e=t.cardNumber,n=t.cardHolder,l=t.swiftCode,u=void 0===l?"":l,s=t.cardNumberLength,d=void 0===s?16:s,f=t.isShowName,v=void 0!==f&&f,h=Object(a.useState)(!1),p=Object(r.a)(h,2),m=p[0],g=p[1],b=function(){return m?o.a.createElement("img",{alt:"",className:"ImageBG",src:Object(c.a)(u).iconSmall}):o.a.createElement("img",{alt:"",className:"ImageBG",src:i.b.bgSmallCardNull})};return v?o.a.createElement("div",{className:"FormBankSmall font-regular"},o.a.createElement("div",{className:"LayoutBG"},b(),o.a.createElement("p",{className:"TxtCardNumber".concat(16===d?16:19," visa font-semibold"),style:{top:"-5%"}},e),o.a.createElement("img",{style:{height:0,width:0},alt:"",className:"ImageBG",src:Object(c.a)(u).iconSmall,onLoad:function(){return g(!0)}}),o.a.createElement("div",{className:"TxtCardName font-medium"},o.a.createElement("p",{className:"TxtName"},n)))):o.a.createElement("div",{className:"FormBankSmall font-regular"},o.a.createElement("div",{className:"LayoutBG"},b(),o.a.createElement("p",{className:"TxtCardNumber".concat(16===d?16:19," visa font-semibold")},e),o.a.createElement("img",{style:{height:0,width:0},alt:"",className:"ImageBG",src:Object(c.a)(u).iconSmall,onLoad:function(){return g(!0)}})))}},15:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(10),a=n(0);function o(){var t="undefined"!==typeof window;function e(){return{width:t?window.innerWidth:null,height:t?window.innerHeight:null}}var n=Object(a.useState)(e()),o=Object(r.a)(n,2),i=o[0],c=o[1];return Object(a.useEffect)((function(){if(t){var n=function(){c(e())};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}}),[t]),i}},161:function(t,e,n){"use strict";var r=n(10),a=n(0),o=n.n(a),i=n(9),c=Object(a.forwardRef)((function(t,e){var n=t.idInput,c=(t.checkActiveButton,t.title),l=t.placeholder,u=t.value,s=t.onChangeValue,d=t.maxLength,f=t.messageError,v=void 0===f?"":f,h=t.type,p=t.pattern,m=t.inputMode,g=t.paddingRight,b=void 0===g?"10px":g,y=Object(i.d)().getState().sk.configColor.mainColor,w=Object(a.useRef)(null),k=Object(a.useState)(""),E=Object(r.a)(k,2),O=E[0],L=E[1],j=Object(a.useState)(""),N=Object(r.a)(j,2),x=N[0],I=N[1],C=Object(a.useState)(!1),B=Object(r.a)(C,2),S=B[0],_=B[1];return Object(a.useImperativeHandle)(e,(function(){return{getValue:function(){return O},setValue:function(t){L(t)}}})),Object(a.useEffect)((function(){I(c)}),[c]),Object(a.useEffect)((function(){L(u)}),[u]),o.a.createElement("div",{style:{border:S?v?"1px solid #ec2a2a":"1px solid ".concat(y):"none"},className:"InputSub ".concat(v?"error":""," ").concat(S?"focus":""," ")},o.a.createElement("div",{className:"title",style:{display:"flex",flexDirection:"row",justifyContent:"space-between",flex:1,alignItems:"center"}},v?o.a.createElement("p",{className:"TxtError"},v):o.a.createElement("p",{style:{fontSize:12,color:"#a5aeb8",textTransform:"upperCase"}},x),!v&&o.a.createElement("p",{style:{fontSize:12,color:"#0b0b0b",textTransform:"upperCase"}},v)),o.a.createElement("input",{style:{paddingRight:b},id:n,ref:w,value:null!==O&&void 0!==O?O:"",className:"InputSubCardNumber",type:h,pattern:p,maxLength:d,placeholder:l,inputMode:m,onChange:function(t){L(t.target.value),s&&s(t)},onFocus:function(){return _(!0)},onBlur:function(){return _(!1)},autoComplete:"off"}))}));e.a=c},39:function(t,e,n){"use strict";function r(t){return{iconSmall:"https://static.payme.vn/image_bank/smallBackgroundBank/smallBg".concat(t,"@2x.png"),iconLarge:"https://static.payme.vn/image_bank/largeBackgroundBank/largeBg".concat(t,"@2x.png"),iconBank:"https://static.payme.vn/image_bank/icon_banks/icon".concat(t,"@2x.png"),iconMethod:"https://static.payme.vn/image_bank/image_method/method".concat(t,"@2x.png")}}n.d(e,"a",(function(){return r}))},925:function(t,e,n){"use strict";n.r(e),n.d(e,"InputInfoOCBBankScreen",(function(){return E}));var r=n(13),a=n(59),o=n(10),i=n(0),c=n.n(i),l=n(75),u=n(9),s=n(18),d=n(45),f=n(19),v=n(52),h=n(15),p=n(22),m=n(67),g=n(41),b=n(136),y=n(161),w=Object(i.forwardRef)((function(t,e){var n,r=t.setCardNumber,a=t.checkActiveButton,l=t.bankInfo,s=Object(i.useState)(""),d=Object(o.a)(s,2),f=d[0],v=d[1],h=Object(i.useRef)(null),p=Object(i.useRef)(!1),m=Object(i.useRef)(null),w=Object(u.d)().getState().ud.accountInfo;Object(i.useEffect)((function(){a&&a(k())}),[f]),Object(i.useLayoutEffect)((function(){m.current&&m.current.isFocus&&(m.current.selectionStart=h.current,m.current.selectionEnd=h.current)})),Object(i.useImperativeHandle)(e,(function(){return{checkValue:function(){return k()},getValue:function(){return{cardNumber:f.replace(/[^0-9]/g,""),type:"970448"===f.replace(/[^0-9]/g,"").substring(0,6)?"CARD":"ACCOUNT"}}}}));var k=function(){return"970448"===f.replace(/[^0-9]/g,"").substring(0,6)?16===f.replace(/[^0-9]/g,"").length:f.replace(/[^0-9]/g,"").length>0},E="970448"===f.replace(/[^0-9]/g,"").substring(0,6)?Object(g.j)(f):f;return c.a.createElement("div",{className:"InputInfoCard"},c.a.createElement("div",{className:"InputInfoCard-Body"},c.a.createElement(b.a,{cardNumber:E||"",swiftCode:null===l||void 0===l?void 0:l.swiftCode,cardNumberLength:(null===f||void 0===f?void 0:f.length)>16?21:19,cardHolder:null===w||void 0===w||null===(n=w.fullname)||void 0===n?void 0:n.toUpperCase(),isShowName:!0}),c.a.createElement(y.a,{idInput:"cardNumber-CC",paddingRight:"20px",ref:m,value:f,type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:21,title:"S\u1ed1 th\u1ebb/T\xe0i kho\u1ea3n",placeholder:"Nh\u1eadp s\u1ed1 th\u1ebb ho\u1eb7c s\u1ed1 t\xe0i kho\u1ea3n",onChangeValue:function(t){var e,n,a,o,i=null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.value.replace(/[^0-9]/g,"");if(h.current=null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.selectionStart,h.current-=((null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value.slice(0,h.current).match(/\s/g))||[]).length,"970448"===(null===t||void 0===t||null===(o=t.target)||void 0===o?void 0:o.value.replace(/[^0-9]/g,"").substring(0,6))){for(var c=Object(g.d)(i),l=0;l<h.current;++l)"-"===c[l]&&++h.current;"-"===c[h.current]&&p.current&&h.current++,r&&r(c),v(c)}else{var u,s;r&&r(null===t||void 0===t||null===(u=t.target)||void 0===u?void 0:u.value.replace(/[^\w]/g,"")),v(null===t||void 0===t||null===(s=t.target)||void 0===s?void 0:s.value.replace(/[^\w]/g,""))}}})))}));function k(){k=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(x){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof d?e:d,o=Object.create(a.prototype),i=new L(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return N()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,i),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(x){return{type:"throw",arg:x}}}t.wrap=l;var s={};function d(){}function f(){}function v(){}var h={};c(h,a,(function(){return this}));var p=Object.getPrototypeOf,m=p&&p(p(j([])));m&&m!==e&&n.call(m,a)&&(h=m);var g=v.prototype=d.prototype=Object.create(h);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var l=u(t[a],t,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(d).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,c)}))}c(l.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,s;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=v,c(g,"constructor",v),c(v,"constructor",f),f.displayName=c(v,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(y.prototype),c(y.prototype,o,(function(){return this})),t.AsyncIterator=y,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new y(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},t}var E=function(){var t=Object(l.useHistory)(),e=t.location,n=Object(u.b)(),g=Object(s.bindActionCreators)(d,n),b=Object(u.d)().getState(),y=b.sk,E=b.ud.accountInfo,O=Object(i.useState)(""),L=Object(o.a)(O,2),j=L[0],N=L[1],x=Object(i.useState)(null),I=Object(o.a)(x,2),C=I[0],B=I[1],S=Object(i.useRef)(null),_=Object(p.b)();Object(i.useEffect)((function(){var t;B(null===e||void 0===e||null===(t=e.state)||void 0===t?void 0:t.ItemBank)}),[]);var T=function(){var o=Object(a.a)(k().mark((function a(){var o,i,c,l;return k().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=null===S||void 0===S||null===(o=S.current)||void 0===o||null===(i=o.getValue)||void 0===i?void 0:i.call(o).type,l={swiftCode:C.swiftCode,linkType:c,clientId:null===y||void 0===y?void 0:y.clientId},l="CARD"===c?Object(r.a)(Object(r.a)({},l),{},{linkInfo:{card:{cardNumber:j.replace(/[^0-9]/g,"")}}}):Object(r.a)(Object(r.a)({},l),{},{linkInfo:{account:{accountNumber:j.replace(/[^0-9]/g,"")}}}),g.bankLinkVerify({linkInput:l},(function(r,a){var o,i,c,u,s,d;if(r)if("REQUIRED_VERIFY"===(null===a||void 0===a||null===(o=a.BankLink)||void 0===o||null===(i=o.Link)||void 0===i?void 0:i.state)){var f,h,p,g,b,y={transaction:null===a||void 0===a||null===(f=a.BankLink)||void 0===f||null===(h=f.Link)||void 0===h?void 0:h.transaction,bank:null===e||void 0===e||null===(p=e.state)||void 0===p?void 0:p.ItemBank};n({type:"ADD_BANK_INFO",payload:y}),m.c.next({isVisible:!0,type:m.b.PopupNotifyBottomATMWebview,data:{url:null===a||void 0===a||null===(g=a.BankLink)||void 0===g||null===(b=g.Link)||void 0===b?void 0:b.html,onManualQuery:function(){t.push("/listLinkedBank/")},showClose:!0}})}else if("OTP_RETRY_TIMES_OVER"===(null===a||void 0===a||null===(c=a.BankLink)||void 0===c||null===(u=c.Link)||void 0===u?void 0:u.state)){var w,k;v.b.next({message:null===a||void 0===a||null===(w=a.BankLink)||void 0===w||null===(k=w.Link)||void 0===k?void 0:k.message,isVisible:!0})}else if("REQUIRED_OTP"===(null===a||void 0===a||null===(s=a.BankLink)||void 0===s||null===(d=s.Link)||void 0===d?void 0:d.state)){var O,L,N,x,I,B={accountType:null===S||void 0===S||null===(O=S.current)||void 0===O||null===(L=O.getValue)||void 0===L?void 0:L.call(O).type,transactionId:null===a||void 0===a||null===(N=a.BankLink)||void 0===N||null===(x=N.Link)||void 0===x?void 0:x.transaction,type:"BANKING_OCB",dataResend:l,swiftCode:C.swiftCode,cardItem:{shortName:C.shortName,cardNumber:j.replace(/[^0-9]/g,""),cardHolder:null===E||void 0===E||null===(I=E.fullname)||void 0===I?void 0:I.toUpperCase(),swiftCode:C.swiftCode},bankInfo:C};t.push("/inputOTPBank",{paramsInput:B,linkInput:l})}else{var _,T;v.b.next({message:null===a||void 0===a||null===(_=a.BankLink)||void 0===_||null===(T=_.Link)||void 0===T?void 0:T.message,isVisible:!0})}}));case 4:case"end":return a.stop()}}),a)})));return function(){return o.apply(this,arguments)}}();return c.a.createElement("div",{className:"InputInfoATMCard",style:{height:Object(h.a)().height-48-_}},c.a.createElement("div",{className:"InputInfoATMCardInner"},c.a.createElement(w,{ref:S,typeForm:"CREDIT_CARD"===(null===C||void 0===C?void 0:C.type)?"INTERNATIONAL_CARD":"LOCAL_CARD",setCardNumber:N,bankInfo:C})),c.a.createElement("div",{className:"fixBottom"},c.a.createElement(f.a,{className:"btn",label:"LI\xcaN K\u1ebeT",variant:j.length>6?f.a.buttonState.ACTIVE:f.a.buttonState.DISABLE,disabled:!(j.length>6),onClick:function(){return T()}})))};e.default=E}}]);