/*! For license information please see 131.a0a77e0e.chunk.js.LICENSE.txt */
(this.webpackJsonppaymesdk=this.webpackJsonppaymesdk||[]).push([[131],{907:function(e,t,n){"use strict";n.r(t);var o=n(13),i=n(59),l=n(10),a=n(0),r=n.n(a),c=n(9),u=n(75),s=n(18),d=n(34),v=n.n(d),f=n(27),m=n.n(f),p=n(134),y=n.n(p),h=n(45),b=n(211),g=n(30),E=n(20),x=n(41),O=n(54),C=n(19),j=n(114),A=n(92),N=n(12),w=n(42),S=n(468),I=n(16),T=n(22),k=n(257),R=n(62),L=n(93),B=n(58),P=n(21),D=n(52),K=n(11),_=n(164),M=n(148),Y=n(242),z=n(72),F=n(67),V=n(186),U=n(66),W=n.n(U),H=n(17),G=n(463),X=n.n(G),J=n(73),Q=n(36),q=n(464),Z=n(465),$=new(n(821).a)([]),ee=n(94),te=n(26),ne=n.n(te);function oe(e){var t=e.title,n=e.onClose,o=e.styleTitle,i=e.styleButton,l=e.containerStyle;return r.a.createElement("div",{className:"containerHeader",style:l},r.a.createElement("div",{className:"left"}),r.a.createElement("p",{className:"textTitleHeader font-semibold",style:o},t),r.a.createElement("div",{className:"containerClose",style:i,onClick:n,onKeyPress:n},r.a.createElement("img",{src:K.b.btnClose,alt:"#"})))}var ie=function(e){var t=e.closeModal,n=e.onSelectContact,i=Object(c.b)(),u=Object(s.bindActionCreators)(J,i),d=Object(s.bindActionCreators)(Q,i),v=Object(s.bindActionCreators)(b,i),f=Object(c.c)((function(e){return e.sk.clientId})),m=Object(c.c)((function(e){var t,n;return null===e||void 0===e||null===(t=e.sk)||void 0===t||null===(n=t.configColor)||void 0===n?void 0:n.mainColor})),p=Object(c.c)((function(e){var t;return null===(t=e.ud)||void 0===t?void 0:t.accountInfo})),y=Object(c.c)((function(e){var t;return null===e||void 0===e||null===(t=e.sk)||void 0===t?void 0:t.partner})),h=Object(a.useState)(null),g=Object(l.a)(h,2),x=g[0],O=g[1],j=Object(a.useState)([]),A=Object(l.a)(j,2),w=A[0],S=A[1],I=Object(a.useState)(!1),T=Object(l.a)(I,2),k=T[0],R=T[1],L=Object(a.useState)(""),B=Object(l.a)(L,2),D=B[0],_=B[1],M=Object(a.useState)(!1),Y=Object(l.a)(M,2),z=Y[0],F=Y[1],G=Object(a.useState)(null),te=Object(l.a)(G,2),ie=te[0],le=te[1],ae=Object(a.useState)(!1),re=Object(l.a)(ae,2),ce=re[0],ue=re[1],se=Object(a.useState)(!1),de=Object(l.a)(se,2),ve=de[0],fe=de[1];window.onContacts=function(e){var t;if("string"===typeof e)try{t=JSON.parse(e)}catch(n){t=e}else t=e;O(t)},window.onPermission=function(e){R(e)},Object(a.useEffect)((function(){pe()}),[]),Object(a.useEffect)((function(){(null===x||void 0===x?void 0:x.length)>0&&!ve&&me()}),[x,ve]),Object(a.useEffect)((function(){var e=/[^0-9]/g;e.test(D)||10!==D.replace(e,"").length||X()(x,["phone",D])?/^@[\w+]/g.test(D)?(F(!0),d.findAccount({accountAlias:D.replace(/^@/,"").toLowerCase()},(function(e,t){var n,i,l;e&&((null===t||void 0===t||null===(n=t.Account)||void 0===n?void 0:n.accountId)?(ue(!1),(null===t||void 0===t||null===(i=t.Account)||void 0===i||null===(l=i.kyc)||void 0===l?void 0:l.state)===ee.c.APPROVED?le(Object(o.a)(Object(o.a)({},null===t||void 0===t?void 0:t.Account),{},{srcImage:K.b.ptWalletActive,isExistAccount:!0,isKYC:!0})):le(Object(o.a)(Object(o.a)({},null===t||void 0===t?void 0:t.Account),{},{srcImage:K.b.ptWalletUnactive,isExistAccount:!0,isKYC:!1}))):ue(!0))}),{showLoading:!1,isNoAuthen:!0,isSaveRedux:!1})):(F(!1),ue(!1),le({})):(F(!0),d.searchAccount({accountPhone:D},(function(e,t){var n,i,l;(ue(!1),e)&&((null===t||void 0===t||null===(n=t.Account)||void 0===n?void 0:n.accountId)?(null===t||void 0===t||null===(i=t.Account)||void 0===i||null===(l=i.kyc)||void 0===l?void 0:l.state)===ee.c.APPROVED?le(Object(o.a)(Object(o.a)({},t.Account),{},{srcImage:K.b.ptWalletActive,isExistAccount:!0,isKYC:!0})):le(Object(o.a)(Object(o.a)({},t.Account),{},{srcImage:K.b.ptWalletUnactive,isExistAccount:!0,isKYC:!1})):le({phone:D,isExistAccount:!1,isKYC:!1}))})))}),[D]);var me=function(){var e=x.filter((function(e){return e.phone})),t={phone:e.map((function(e){return e.phone}))};fe(!0),v.checkAccountPayme({checkAccountsInput:t},(function(t,n){var i,l;if(t&&(null===n||void 0===n||null===(i=n.Utility)||void 0===i||null===(l=i.CheckAccounts)||void 0===l?void 0:l.succeeded)){var a=e.map((function(e){var t,i,l,a,r=null===n||void 0===n||null===(t=n.Utility)||void 0===t||null===(i=t.CheckAccounts)||void 0===i?void 0:i.listResult.filter((function(t){return Object(H.h)(t.phone)===Object(H.h)(e.phone)}));return Object(o.a)(Object(o.a)({},null===r||void 0===r?void 0:r[0]),{},{phone:null===e||void 0===e?void 0:e.phone,name:null===e||void 0===e?void 0:e.name,srcImage:(null===(l=r[0])||void 0===l?void 0:l.isExistAccount)?(null===(a=r[0])||void 0===a?void 0:a.isKYC)?K.b.ptWalletActive:K.b.ptWalletUnactive:null})})).sort((function(e,t){if((null===e||void 0===e?void 0:e.isExistAccount)&&!(null===t||void 0===t?void 0:t.isExistAccount))return-1;if(!(null===e||void 0===e?void 0:e.isExistAccount)&&(null===t||void 0===t?void 0:t.isExistAccount))return 1;if((null===e||void 0===e?void 0:e.isExistAccount)&&(null===t||void 0===t?void 0:t.isExistAccount)){if((null===e||void 0===e?void 0:e.isKYC)&&!(null===t||void 0===t?void 0:t.isKYC))return-1;if(!(null===e||void 0===e?void 0:e.isKYC)&&(null===t||void 0===t?void 0:t.isKYC))return 1}return(null===e||void 0===e?void 0:e.name)<(null===t||void 0===t?void 0:t.name)?-1:(null===e||void 0===e?void 0:e.name)>(null===t||void 0===t?void 0:t.name)?1:0}));O(a)}}))},pe=function(){var e={transferMoneyTransferMoneyType:"WALLET",transferMoneyPaging:{start:0,limit:30},transferMoneyClientId:f};v.getRecentTransferPaymeList(Object(o.a)({},e),(function(e,t){if(e){var n,i=null===t||void 0===t||null===(n=t.Recent)||void 0===n?void 0:n.transferMoney.map((function(e){var t,n,i,l;return Object(o.a)(Object(o.a)({},e),{},{name:null===e||void 0===e?void 0:e.fullname,phone:Object(H.h)(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.phone),alias:null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.alias,srcImage:K.b.iconTrash,isRemoveRecent:!0,isKYC:(null===e||void 0===e||null===(i=e.details)||void 0===i||null===(l=i.kyc)||void 0===l?void 0:l.state)===ee.c.APPROVED,isExistAccount:!0})}));$.next(i),S(i)}}))},ye=function(e){var t={recentId:null===e||void 0===e?void 0:e.recentId};u.deleteTopupRecent({removeRecentInput:t},(function(e,t){var n,o,i,l,a;e&&((null===t||void 0===t||null===(n=t.Recent)||void 0===n||null===(o=n.RemoveRecent)||void 0===o?void 0:o.succeeded)?pe():E.b.next({message:null!==(i=null===t||void 0===t||null===(l=t.Recent)||void 0===l||null===(a=l.RemoveRecent)||void 0===a?void 0:a.message)&&void 0!==i?i:N.a.messageError2,isVisible:!0}))}))},he=function(e,t){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:9},key:"".concat(t.toString())},(null===e||void 0===e?void 0:e.accountId)?r.a.createElement("img",{style:{height:48,width:48,borderRadius:24,marginRight:16},src:Object(V.b)({accountId:null===e||void 0===e?void 0:e.accountId,isKYC:null===e||void 0===e?void 0:e.isKYC}),alt:" "}):r.a.createElement("div",{style:{backgroundColor:"#f2f4f3",height:48,width:48,borderRadius:24,alignItems:"center",display:"flex",justifyContent:"center",marginRight:16}},r.a.createElement("p",{className:"font-semibold",style:{fontSize:18,color:"#0caa26"}},function(e){if(!e)return"";var t=e.trim(),n=t.split(" ");return n.length<=1?t.charAt(0):n[0].charAt(0)+n[n.length-1].charAt(0)}(e.name))),r.a.createElement("div",{style:{borderBottom:"0.5px solid #eff2f7",display:"flex",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,padding:"11px 0px"},onClick:function(){return n&&n(e)},onKeyPress:function(){return n&&n(e)}},r.a.createElement("p",{className:"font-semibold",style:(null===e||void 0===e?void 0:e.styleTextName)?Object(o.a)({fontSize:15,color:"#000000"},null===e||void 0===e?void 0:e.styleTextName):{fontSize:15,color:"#000000"}},e.name),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},(null===e||void 0===e?void 0:e.phone)&&r.a.createElement("p",{className:"font-semibold",style:{fontSize:14,color:"#414141",marginRight:4}},Object(H.h)(null===e||void 0===e?void 0:e.phone)),(null===e||void 0===e?void 0:e.alias)&&r.a.createElement("p",{className:"font-semibold",style:{fontSize:14,color:"#414141"}},"@".concat(null===e||void 0===e?void 0:e.alias)))),(null===e||void 0===e?void 0:e.srcImage)&&r.a.createElement("div",{onClick:function(){return(null===e||void 0===e?void 0:e.isRemoveRecent)?ye(e):{}},onKeyPress:function(){return(null===e||void 0===e?void 0:e.isRemoveRecent)?ye(e):{}}},r.a.createElement("img",{style:{width:16,height:16,margin:8},src:null===e||void 0===e?void 0:e.srcImage,alt:""}))))},be=function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement(q.a,null),r.a.createElement("p",{className:"font-semibold",style:{fontSize:16,color:"#000000",marginTop:12}},N.a.textNotFound2))};return r.a.createElement("div",{className:"popupTransfer"},r.a.createElement("div",{className:"popupTransferContent",style:{height:"90%"}},r.a.createElement(oe,{onClose:t,title:N.a.titlePopup1}),r.a.createElement("div",{style:{overflowY:"auto",maxHeight:"90%"}},r.a.createElement("div",{style:{backgroundColor:"#eff2f7",borderRadius:15,padding:"10px 16px",marginBottom:14,display:"flex",alignItems:"center"}},r.a.createElement("img",{style:{marginRight:6},src:K.b.iconSearchContacts,alt:" "}),r.a.createElement("input",{className:"inputSearchContacts",placeholder:N.a.inputPlaceHolder2,value:D,onChange:function(e){_(e.target.value)},maxLength:24})),!D&&(w.length>0?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,justifyContent:"center",marginBottom:16}},r.a.createElement("p",{className:"font-semibold",style:{fontSize:14,color:"#7d8fa2",textTransform:"uppercase",marginBottom:10}},N.a.formatString(N.a.textRecent,"(".concat(w.length,")"))),r.a.createElement(U.PlainList,{list:w,renderItem:he})):null),function(){var e,t;return"WEB"!==ne()(null!==(e=null===y||void 0===y?void 0:y.type)&&void 0!==e?e:"")&&k?z?ce?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement("p",{className:"font-semibold",style:{fontSize:16,color:"#000000",marginTop:12,fontStyle:"italic"}},N.a.textNotFound1)):r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:9}},r.a.createElement("img",{style:{height:48,width:48,borderRadius:24,marginRight:16},src:Object(V.b)({accountId:null===ie||void 0===ie?void 0:ie.accountId,isKYC:null===ie||void 0===ie?void 0:ie.isKYC}),alt:" "}),r.a.createElement("div",{style:{borderBottom:"0.5px solid #eff2f7",display:"flex",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,padding:"11px 0px"}},(null===ie||void 0===ie?void 0:ie.isExistAccount)?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("p",{className:"font-semibold",style:{fontSize:15,color:"#000000"}},null===ie||void 0===ie?void 0:ie.fullname),(null===ie||void 0===ie?void 0:ie.srcImage)&&r.a.createElement("div",{onClick:function(){var e;return null===ie||void 0===ie||null===(e=ie.onClickImage)||void 0===e?void 0:e.call(ie,ie)},onKeyPress:function(){var e;return null===ie||void 0===ie||null===(e=ie.onClickImage)||void 0===e?void 0:e.call(ie,ie)}},r.a.createElement("img",{style:{width:16,height:16,marginLeft:8},src:null===ie||void 0===ie?void 0:ie.srcImage,alt:""}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},(null===ie||void 0===ie?void 0:ie.phone)&&r.a.createElement("p",{className:"font-semibold",style:{fontSize:14,color:"#414141",marginRight:4}},Object(H.h)(null===ie||void 0===ie?void 0:ie.phone)),(null===ie||void 0===ie?void 0:ie.alias)&&r.a.createElement("p",{className:"font-semibold",style:{fontSize:14,color:"#414141"}}," @".concat(null===ie||void 0===ie?void 0:ie.alias)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"font-semibold",style:{fontSize:15,color:"#000000"}},Object(H.h)(D)),r.a.createElement("p",{className:"font-semibold",style:{fontSize:14,color:"#414141"}},N.a.subText1))),r.a.createElement("div",{style:{backgroundColor:m,borderRadius:15,padding:"4px 16px"},onClick:function(){(null===ie||void 0===ie?void 0:ie.accountId)&&(null===p||void 0===p?void 0:p.accountId)&&(null===ie||void 0===ie?void 0:ie.accountId)===(null===p||void 0===p?void 0:p.accountId)?E.b.next({message:N.a.NotiNotPayToYourSelf,isVisible:!0}):n&&n(ie)},onKeyPress:function(){(null===ie||void 0===ie?void 0:ie.accountId)&&(null===p||void 0===p?void 0:p.accountId)&&(null===ie||void 0===ie?void 0:ie.accountId)===(null===p||void 0===p?void 0:p.accountId)?E.b.next({message:N.a.NotiNotPayToYourSelf,isVisible:!0}):n&&n(ie)}},r.a.createElement("p",{className:"font-seminold",style:{fontSize:18,color:"#ffffff"}},N.a.textSelect)))):r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,justifyContent:"center"}},r.a.createElement("p",{className:"font-semibold",style:{fontSize:14,color:"#7d8fa2",textTransform:"uppercase",marginBottom:10}},N.a.formatString(N.a.textContact,"(".concat(null===x||void 0===x?void 0:x.length,")"))),r.a.createElement(W.a,{list:x,renderItem:he,renderWhenEmpty:be,searchBy:["name","phone"],searchTerm:D,searchCaseInsensitive:!0,searchMinCharactersCount:2})):z?ce?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement("p",{className:"font-semibold",style:{fontSize:16,color:"#000000",marginTop:12,fontStyle:"italic"}},N.a.textNotFound1)):r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:9}},r.a.createElement("img",{style:{height:48,width:48,borderRadius:24,marginRight:16},src:Object(V.b)({accountId:null===ie||void 0===ie?void 0:ie.accountId,isKYC:null===ie||void 0===ie?void 0:ie.isKYC}),alt:" "}),r.a.createElement("div",{style:{borderBottom:"0.5px solid #eff2f7",display:"flex",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,padding:"11px 0px"}},(null===ie||void 0===ie?void 0:ie.isExistAccount)?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("p",{className:"font-semibold",style:{fontSize:15,color:"#000000"}},null===ie||void 0===ie?void 0:ie.fullname),(null===ie||void 0===ie?void 0:ie.srcImage)&&r.a.createElement("div",{onClick:function(){var e;return null===ie||void 0===ie||null===(e=ie.onClickImage)||void 0===e?void 0:e.call(ie,ie)},onKeyPress:function(){var e;return null===ie||void 0===ie||null===(e=ie.onClickImage)||void 0===e?void 0:e.call(ie,ie)}},r.a.createElement("img",{style:{width:16,height:16,marginLeft:8},src:null===ie||void 0===ie?void 0:ie.srcImage,alt:""}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},(null===ie||void 0===ie?void 0:ie.phone)&&r.a.createElement("p",{className:"font-semibold",style:{fontSize:14,color:"#414141",marginRight:4}},Object(H.h)(null===ie||void 0===ie?void 0:ie.phone)),(null===ie||void 0===ie?void 0:ie.alias)&&r.a.createElement("p",{className:"font-semibold",style:{fontSize:14,color:"#414141"}}," @".concat(null===ie||void 0===ie?void 0:ie.alias)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"font-semibold",style:{fontSize:15,color:"#000000"}},Object(H.h)(D)),r.a.createElement("p",{className:"font-semibold",style:{fontSize:14,color:"#414141"}},N.a.subText1))),r.a.createElement("div",{style:{backgroundColor:m,borderRadius:15,padding:"4px 16px"},onClick:function(){(null===ie||void 0===ie?void 0:ie.accountId)&&(null===p||void 0===p?void 0:p.accountId)&&(null===ie||void 0===ie?void 0:ie.accountId)===(null===p||void 0===p?void 0:p.accountId)?E.b.next({message:N.a.NotiNotPayToYourSelf,isVisible:!0}):n&&n(ie)},onKeyPress:function(){(null===ie||void 0===ie?void 0:ie.accountId)&&(null===p||void 0===p?void 0:p.accountId)&&(null===ie||void 0===ie?void 0:ie.accountId)===(null===p||void 0===p?void 0:p.accountId)?E.b.next({message:N.a.NotiNotPayToYourSelf,isVisible:!0}):n&&n(ie)}},r.a.createElement("p",{className:"font-seminold",style:{fontSize:18,color:"#ffffff"}},N.a.textSelect)))):"WEB"!==ne()(null!==(t=null===y||void 0===y?void 0:y.type)&&void 0!==t?t:"")&&(Array.isArray(x)||x)?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1}},!D&&r.a.createElement("p",{className:"font-semibold",style:{fontSize:14,color:"#7d8fa2",textTransform:"uppercase",marginBottom:10}},N.a.formatString(N.a.textContact,"")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center",padding:"16px 32px"}},r.a.createElement(Z.a,null),r.a.createElement("p",{className:"font-semibold",style:{fontSize:16,color:"#000000",margin:"8px 0px"}},N.a.textPermission1),r.a.createElement("p",{style:{fontSize:15,color:"#647081",textAlign:"center"}},N.a.textPermission2),r.a.createElement(C.a,{propStyle:{width:"70%",margin:16},label:N.a.textPermission3,variant:"active",onClick:function(){P.b.next({type:"onOpenSetting",actions:"onOpenSetting"})}}))):null}())))};function le(){le=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function r(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{r({},"")}catch(N){r=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,l=Object.create(i.prototype),a=new C(o||[]);return l._invoke=function(e,t,n){var o="suspendedStart";return function(i,l){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw l;return A()}for(n.method=i,n.arg=l;;){var a=n.delegate;if(a){var r=E(a,n);if(r){if(r===s)continue;return r}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),l}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var s={};function d(){}function v(){}function f(){}var m={};r(m,i,(function(){return this}));var p=Object.getPrototypeOf,y=p&&p(p(j([])));y&&y!==t&&n.call(y,i)&&(m=y);var h=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){r(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var o;this._invoke=function(i,l){function a(){return new t((function(o,a){!function o(i,l,a,r){var c=u(e[i],e,l);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,a,r)}),(function(e){o("throw",e,a,r)})):t.resolve(d).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,r)}))}r(c.arg)}(i,l,o,a)}))}return o=o?o.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,s;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,l=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=f,r(h,"constructor",f),r(f,"constructor",v),v.displayName=r(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,a,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},b(g.prototype),r(g.prototype,l,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,o,i,l){void 0===l&&(l=Promise);var a=new g(c(t,n,o,i),l);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(h),r(h,a,"Generator"),r(h,i,(function(){return this})),r(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=j,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i],a=l.completion;if("root"===l.tryLoc)return o("end");if(l.tryLoc<=this.prev){var r=n.call(l,"catchLoc"),c=n.call(l,"finallyLoc");if(r&&c){if(this.prev<l.catchLoc)return o(l.catchLoc,!0);if(this.prev<l.finallyLoc)return o(l.finallyLoc)}else if(r){if(this.prev<l.catchLoc)return o(l.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return o(l.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var l=i;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var a=l?l.completion:{};return a.type=e,a.arg=t,l?(this.method="next",this.next=l.finallyLoc,s):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}var ae={isEmpty:v.a,size:m.a};t.default=function(){var e,t,n,d,v=Object(T.a)(),f=Object(u.useHistory)(),m=Object(u.useLocation)(),p=Object(c.c)((function(e){var t;return null===(t=e.wp)||void 0===t?void 0:t.methodSelected})),V=Object(c.c)((function(e){var t;return null===(t=e.wp)||void 0===t?void 0:t.walletInfo})),U=Object(c.c)((function(e){var t,n;return null!==(t=null===(n=e.wp)||void 0===n?void 0:n.methods)&&void 0!==t?t:[]})),W=Object(c.c)((function(e){var t,n,o;return null!==(t=null===(n=e.sk)||void 0===n||null===(o=n.settings)||void 0===o?void 0:o.banks)&&void 0!==t?t:[]})),H=Object(c.c)((function(e){var t;return null===(t=e.wp)||void 0===t?void 0:t.toogleBalance})),G=Object(c.c)((function(e){var t;return null===(t=e.ud)||void 0===t?void 0:t.accountInfo})),X=Object(c.c)((function(e){var t;return null===e||void 0===e||null===(t=e.sk)||void 0===t?void 0:t.clientId})),J=Object(c.c)((function(e){var t,n;return null===e||void 0===e||null===(t=e.sk)||void 0===t||null===(n=t.configColor)||void 0===n?void 0:n.mainColor})),Q=Object(a.useState)(null!==(e=Object(x.e)(null===m||void 0===m||null===(t=m.state)||void 0===t?void 0:t.amount))&&void 0!==e?e:""),q=Object(l.a)(Q,2),Z=q[0],$=q[1],ee=Object(a.useState)(""),te=Object(l.a)(ee,2),ne=te[0],oe=te[1],re=Object(a.useState)({}),ce=Object(l.a)(re,2),ue=ce[0],se=ce[1],de=Object(c.b)(),ve=Object(s.bindActionCreators)(h,de),fe=Object(s.bindActionCreators)(b,de),me=Object(s.bindActionCreators)(g,de),pe=Object(a.useState)(""),ye=Object(l.a)(pe,2),he=ye[0],be=ye[1],ge=Object(a.useState)(""),Ee=Object(l.a)(ge,2),xe=Ee[0],Oe=Ee[1],Ce=Object(a.useState)(""),je=Object(l.a)(Ce,2),Ae=je[0],Ne=je[1],we=Object(a.useState)(!1),Se=Object(l.a)(we,2),Ie=Se[0],Te=Se[1],ke=Object(a.useState)(null!==(n=null===(d=m.state)||void 0===d?void 0:d.description)&&void 0!==n?n:""),Re=Object(l.a)(ke,2),Le=Re[0],Be=Re[1],Pe=Object(a.useState)({}),De=Object(l.a)(Pe,2),Ke=De[0],_e=De[1],Me=Object(a.useState)(""),Ye=Object(l.a)(Me,2),ze=Ye[0],Fe=Ye[1],Ve=Object(a.useState)(!1),Ue=Object(l.a)(Ve,2),We=Ue[0],He=Ue[1],Ge=Object(a.useState)(!1),Xe=Object(l.a)(Ge,2),Je=Xe[0],Qe=Xe[1],qe=Object(a.useState)(null),Ze=Object(l.a)(qe,2),$e=Ze[0],et=Ze[1],tt=Object(a.useState)([]),nt=Object(l.a)(tt,2),ot=nt[0],it=nt[1],lt=Object(a.useState)([]),at=Object(l.a)(lt,2),rt=at[0],ct=at[1],ut=Object(a.useRef)(null);Object(a.useEffect)((function(){var e,t;de({type:I.k,payload:!!(null===m||void 0===m||null===(e=m.state)||void 0===e?void 0:e.closeWhenDone)}),!(null===(t=m.state)||void 0===t?void 0:t.description)&&(null===G||void 0===G?void 0:G.fullname)&&Be("".concat(null===G||void 0===G?void 0:G.fullname," chuy\u1ec3n ti\u1ec1n")),dt(),vt();return Te(!0),setTimeout((function(){Te(!1)}),1e4),ve.paymentMethod({PaymentMethodInput:{serviceType:"TRANSFER_MONEY"}},(function(e,t){var n,o,i,l,a;(Te(!1),e)&&((null===t||void 0===t||null===(n=t.Utility)||void 0===n||null===(o=n.GetPaymentMethod)||void 0===o?void 0:o.succeeded)||E.b.next({message:null!==(i=null===t||void 0===t||null===(l=t.Utility)||void 0===l||null===(a=l.GetPaymentMethod)||void 0===a?void 0:a.message)&&void 0!==i?i:"C\xf3 l\u1ed7i t\u1eeb m\xe1y ch\u1ee7 h\u1ec7 th\u1ed1ng",isVisible:!0}))})),function(){Te(!1)}}),[G]),Object(a.useEffect)((function(){p&&se(p)}),[p]),Object(a.useEffect)((function(){oe(st())}),[Z,ue,Ke,We,$e]);var st=function(){var e=Object(x.f)(Z);if(Z){if(e>O.a.getDepositLimit().max)return Fe("".concat(N.a.NotiMaxMoney1," ").concat(Object(x.e)(O.a.getDepositLimit().max)," \u0111")),B.a.DISABLE;if(Fe(""),(null===ue||void 0===ue?void 0:ue.type)===w.a.LINKED)return B.a.ACTIVE;if(ue.type===w.a.BANK_ACCOUNT)return ae.isEmpty(null===Ke||void 0===Ke?void 0:Ke.accountNumber)||ae.isEmpty(null===Ke||void 0===Ke?void 0:Ke.bankHolder)?B.a.DISABLE:B.a.ACTIVE;if((null===ue||void 0===ue?void 0:ue.type)===w.a.BANK_CARD&&We)return B.a.ACTIVE;if((null===ue||void 0===ue?void 0:ue.type)===w.a.WALLET)return ae.isEmpty(null===$e||void 0===$e?void 0:$e.alias)&&ae.isEmpty(null===$e||void 0===$e?void 0:$e.name)?B.a.DISABLE:B.a.ACTIVE}return B.a.DISABLE},dt=function(){fe.getRecentTransferATM({transferMoneyClientId:X,transferMoneyTransferMoneyType:"BANK_CARD",transferMoneyPaging:{start:0,limit:5}},(function(e,t){var n;e&&it(null===t||void 0===t||null===(n=t.Recent)||void 0===n?void 0:n.transferMoney)}))},vt=function(){fe.getRecentTransferBankAccount({transferMoneyClientId:X,transferMoneyTransferMoneyType:"BANK_ACCOUNT",transferMoneyPaging:{start:0,limit:5}},(function(e,t){var n,o;e&&ct(null!==(n=null===t||void 0===t||null===(o=t.Recent)||void 0===o?void 0:o.transferMoney)&&void 0!==n?n:[])}))},ft=function(e,t){fe.deleteRecentTransfer({input:{recentId:null===e||void 0===e?void 0:e.recentId}},(function(e,n){e&&("BANK_ACCOUNT"===t?vt():dt(),console.log("-----deleteRecent",n))}))},mt=function(){var e=Object(i.a)(le().mark((function e(){var t,n,i,l,a,r,c,u,s,d,v,m;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(x.f)(Z),n={},Object(Y.c)(t,void 0,ue)){e.next=4;break}return e.abrupt("return");case 4:return(null===ue||void 0===ue?void 0:ue.type)===w.a.WALLET?n={wallet:{accountId:$e.accountId}}:(null===ue||void 0===ue?void 0:ue.type)===w.a.BANK_CARD?n={bankCard:{cardNumber:null===ut||void 0===ut||null===(i=ut.current)||void 0===i||null===(l=i.getValue())||void 0===l?void 0:l.cardNumber,cardHolder:null===ut||void 0===ut||null===(a=ut.current)||void 0===a||null===(r=a.getValue())||void 0===r?void 0:r.cardHolder,swiftCode:null===ut||void 0===ut||null===(c=ut.current)||void 0===c||null===(u=c.getValue())||void 0===u||null===(s=u.bankSelect)||void 0===s?void 0:s.swiftCode}}:(null===ue||void 0===ue?void 0:ue.type)===w.a.LINKED?n={linked:{linkedId:null===ue||void 0===ue||null===(d=ue.data)||void 0===d?void 0:d.linkedId}}:(null===ue||void 0===ue?void 0:ue.type)===w.a.BANK_ACCOUNT&&(n={bankAccount:{bankAccountNumber:null===Ke||void 0===Ke?void 0:Ke.accountNumber,bankAccountName:null===Ke||void 0===Ke?void 0:Ke.bankHolder,swiftCode:null===Ke||void 0===Ke||null===(v=Ke.bankSelected)||void 0===v?void 0:v.swiftCode}}),m={serviceType:z.a.TRANSFER_MONEY,subType:(null===ue||void 0===ue?void 0:ue.type)===w.a.WALLET?z.b.TRANSFER_MONEY_WALLET:z.b.TRANSFER_MONEY_BANK,amount:t,transport:n},e.next=8,me.getFee({getFeeInput:m},(function(e,n){var i,l;if(e)if(null===n||void 0===n||null===(i=n.Utility)||void 0===i||null===(l=i.GetFee)||void 0===l?void 0:l.succeeded){var a,r,c,u,s,d,v,m,p,y,h;if((null===n||void 0===n||null===(a=n.Utility)||void 0===a||null===(r=a.GetFee)||void 0===r?void 0:r.state)===M.a.OVER_DAY_QUOTA||(null===n||void 0===n||null===(c=n.Utility)||void 0===c||null===(u=c.GetFee)||void 0===u?void 0:u.state)===M.a.OVER_MONTH_QUOTA)return void D.b.next({message:null===n||void 0===n||null===(y=n.Utility)||void 0===y||null===(h=y.GetFee)||void 0===h?void 0:h.message,title:N.a.Notification,isVisible:!0,activeButtonCloseTop:!1,listButton:[{text:N.a.Close,style:{color:"#0caa26",fontSize:15,fontWeight:600}}]});if(!(null===n||void 0===n||null===(s=n.Utility)||void 0===s?void 0:s.GetFee))return;var b,g=null!==(d=null===n||void 0===n||null===(v=n.Utility)||void 0===v||null===(m=v.GetFee)||void 0===m||null===(p=m.fee)||void 0===p?void 0:p.fee)&&void 0!==d?d:0;if(!Object(Y.c)(null,t+g,ue))return;if((null===V||void 0===V?void 0:V.balance)<Number(Z.replace(/\D/g,"")))return void E.b.next({message:"S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7",isVisible:!0});if("BANK_CARD"===(null===ue||void 0===ue?void 0:ue.type)&&ae.isEmpty(xe))return void E.b.next({message:"Th\xf4ng tin th\u1ebb kh\xf4ng \u0111\xfang. Vui l\xf2ng ki\u1ec3m tra v\xe0 th\u1eed l\u1ea1i",isVisible:!0});if(ae.isEmpty(Le))return void E.b.next({message:N.a.PleaseInputNote,isVisible:!0});if("BANK_ACCOUNT"===(null===ue||void 0===ue?void 0:ue.type))if(!(null===Ke||void 0===Ke?void 0:Ke.bankHolder)||!(null===Ke||void 0===Ke||null===(b=Ke.bankSelected)||void 0===b?void 0:b.shortName)||!(null===Ke||void 0===Ke?void 0:Ke.accountNumber))return void E.b.next({message:"Th\xf4ng tin t\xe0i kho\u1ea3n ng\xe2n h\xe0ng kh\xf4ng h\u1ee3p l\u1ec7",isVisible:!0});if("BANK_CARD"===ue.type){var O={cardNumber:he.replace(/[^0-9]/g,""),cardHolder:xe,swiftCode:Ae};ue.data=Object(o.a)(Object(o.a)({},ue.data),{},{cardInfo:O}),ue.data=Object(o.a)(Object(o.a)({},ue.data),{},{swiftCode:Ae}),ue.label=Object(x.m)(he),setTimeout((function(){f.push("/confirmTransfer",{type:"TRANSFER_MONEY",money:Z,title:"X\xe1c nh\u1eadn thanh to\xe1n",method:ue,feeTransfer:g,cardInfo:{swiftCode:Ae,cardHolder:xe,cardNumber:he.replace(/[^0-9]/g,"")},description:Le})}),300)}ue.type===w.a.WALLET&&f.push("/confirmTransfer",{type:"TRANSFER_MONEY",money:Z,title:"X\xe1c nh\u1eadn thanh to\xe1n",method:ue,feeTransfer:g,infoAccount:$e,description:Le}),ue.type===w.a.BANK_ACCOUNT&&setTimeout((function(){f.push("/confirmTransfer",{type:"TRANSFER_MONEY",money:Z,title:"X\xe1c nh\u1eadn thanh to\xe1n",method:ue,bankAccount:Ke,feeTransfer:g,description:Le})}),300)}else{var C,j;E.b.next({isVisible:!0,message:null===n||void 0===n||null===(C=n.Utility)||void 0===C||null===(j=C.GetFee)||void 0===j?void 0:j.message})}}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"transferContainer"},r.a.createElement("div",{className:"transferInner"},r.a.createElement("div",null,r.a.createElement(k.a,{title:N.a.TitleTransfer,eyeOpen:H,onPressEyeOpen:function(){return de({type:"TOOGLE_BALANCE"})}}),r.a.createElement(R.a,{inputWithCurrency:!0,value:Object(x.a)(Z),type:"tel",inputMode:"numeric",maxLength:12,placeholder:N.a.TransferInputMoney,messageError:ze,onChange:function(e){var t;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)?$(Object(x.e)(e.target.value)):$(e)},styles:{padding:"12px 16px"}}),r.a.createElement(R.a,{value:Le,type:"text",title:N.a.Note,maxLength:60,placeholder:N.a.PlaceHolderTransfer,onChange:function(e){Be(e.target.value)}})),r.a.createElement(L.a,{showBalanceWallet:!1,listMethods:U,title:N.a.TitleTransferMethod,titlePopup:N.a.TitleSelectTransferMethod,methodSelected:ue,onSelect:function(e){return se(e)}}),(null===ue||void 0===ue?void 0:ue.type)===w.a.WALLET?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",borderRadius:13,padding:"8px 16px",marginBottom:12,backgroundColor:"#eff2f7"},onClick:function(){P.b.next({type:"getContacts",actions:"getContacts"}),Qe(!0)},onKeyPress:function(){P.b.next({type:"getContacts",actions:"getContacts"}),Qe(!0)}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",flex:1,alignItems:"center"}},r.a.createElement("p",{style:{fontSize:12,color:"#a5aeb8",textAlign:"left",textTransform:"upperCase"}},N.a.TitleInputSDTorAlias),(null===$e||void 0===$e?void 0:$e.fullname)&&r.a.createElement("div",{className:"d-flex flex-fill justify-content-end"},r.a.createElement("p",{style:{fontSize:12,color:"#647081",textAlign:"right",wordBreak:"break-word"}},null===$e||void 0===$e?void 0:$e.fullname))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement("div",{style:{wordBreak:"break-all"}},(null===$e||void 0===$e?void 0:$e.alias)?r.a.createElement("p",{style:{fontSize:15,color:"#000000"}},"@".concat(null===$e||void 0===$e?void 0:$e.alias)):r.a.createElement("p",{style:{fontSize:15,color:"#647081"}},N.a.InputSDTorAlias)),r.a.createElement("div",{style:{alignItems:"center"}},r.a.createElement(_.a,null)))):(null===ue||void 0===ue?void 0:ue.type)===w.a.BANK_ACCOUNT?r.a.createElement(S.a,{setBankAccount:_e,dataRecentBankAccount:rt,deleteRecent:function(e){return ft(e,"BANK_ACCOUNT")}}):ue.type===w.a.BANK_CARD?r.a.createElement(j.a,{ref:ut,typeForm:"OPEN_EWALLET",isShowImageCard:!1,onSelect:function(){return mt()},listBank:y()(W,(function(e){return null===e||void 0===e?void 0:e.withdrawable})),setCardNumber:be,setCardHolder:Oe,setSwiftCode:Ne,serviceType:"TRANSFER_MONEY",checkActiveButton:function(e){He(e)},dataRecentATM:ot,deleteRecent:function(e){return ft(e,"BANK_CARD")}}):null,r.a.createElement("div",{style:{backgroundColor:"#eff2f7",borderRadius:12},className:"px-3 py-2"},r.a.createElement("span",{style:{color:"#647081"},className:"font-size-12"},"(*) Xem chi ti\u1ebft bi\u1ec3u ph\xed giao d\u1ecbch "),r.a.createElement("span",{style:{color:J},className:"font-size-12 fw-semibold text-decoration-underline cursor-pointer",onClick:function(){F.c.next({isVisible:!0,type:F.b.PopupNotifyBottomIframeFull,data:{showClose:!0,url:"https://payme.vn/web/bieu-phi-vi-dien-tu",titleHeader:N.a.tariffPayME}})},onKeyPress:function(){F.c.next({isVisible:!0,type:F.b.PopupNotifyBottomIframeFull,data:{showClose:!0,url:"https://payme.vn/web/bieu-phi-vi-dien-tu",titleHeader:N.a.tariffPayME}})}},"t\u1ea1i \u0111\xe2y"))),Je&&r.a.createElement(ie,{closeModal:function(){return Qe(!1)},onSelectContact:function(e){(null===e||void 0===e?void 0:e.isKYC)?et(e):D.b.next({message:N.a.ConfirmRemoveBeforePackage,title:"",isVisible:!0,image:K.b.iconNotFoundRecentTransfer,ver:"4",H1Text:N.a.textNotKYC1,H2Text:N.a.textNotKYC2,listButton:[{text:N.a.textChangePhone,onPress:function(){P.b.next({type:"getContacts",actions:"getContacts"}),Qe(!0)}}]}),Qe(!1)}}),r.a.createElement("div",{className:"fixBottom",style:{paddingBottom:v}},r.a.createElement(C.a,{className:"btn",label:N.a.next,variant:ne===B.a.ACTIVE?"active":"disabled",onClick:function(){return mt()}})),r.a.createElement(A.a,{bgColorOption:"rgba(0,0,0,0)",showLoading:Ie}))}}}]);