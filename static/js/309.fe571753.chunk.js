"use strict";(self.webpackChunkpayme_mini_app=self.webpackChunkpayme_mini_app||[]).push([[309],{38309:function(n,e,i){i.r(e),i.d(e,{CreatePinConfirm:function(){return b},default:function(){return U}});var t=i(29439),o=i(72791),l=i(62812),r=i(52791),a=i(45798),s=i(62038),d=i(57405),u=i(11087),c=i(57689),p=i(22940),v=i(33168),f=i(69745),x=i(69291),h=i(64740),C=i(66030),j=i(10964),g=i(80184);var Z=function(){var n,e,i,Z,m=(0,h.CG)(C.Ty),I=(0,u.lr)(),T=(0,t.Z)(I,1)[0],P=(0,v.$)().t,k=(0,c.s0)(),y=T.get("phone"),D=T.get("activeCode"),w=(0,o.useRef)(null);return(0,g.jsxs)(f.x,{children:[(0,g.jsx)(a.Z,{title:"CreatePin"}),(0,g.jsx)(s.u3,{sx:{padding:2.5,paddingBottom:"IOS"===(null===m||void 0===m||null===(n=m.platform)||void 0===n?void 0:n.toUpperCase())||"ANDROID"===(null===m||void 0===m||null===(e=m.platform)||void 0===e?void 0:e.toUpperCase())?0:2.5,paddingTop:"IOS"===(null===m||void 0===m||null===(i=m.platform)||void 0===i?void 0:i.toUpperCase())||"ANDROID"===(null===m||void 0===m||null===(Z=m.platform)||void 0===Z?void 0:Z.toUpperCase())?0:2.5},display:"flex",flexDirection:"column",justifyContent:"space-between",children:(0,g.jsxs)(r.Z,{children:[(0,g.jsx)(p.Z,{isIconBack:!0,onClick:function(){return k(-1)}}),(0,g.jsx)(r.Z,{sx:{paddingTop:2.5}}),(0,g.jsxs)(s.hs,{alignItems:"center",justifyContent:"flex-start",children:[(0,g.jsx)(l.Z,{variant:"h2",children:P("auth.createPayMEPin")}),(0,g.jsx)(r.Z,{pl:1}),(0,g.jsx)(j.Z,{src:"images/icons/infoIcon.svg",width:24,duration:0})]}),(0,g.jsx)(r.Z,{sx:{paddingTop:.5}}),(0,g.jsx)(l.Z,{variant:"subtitle1",children:P("auth.pleaseEnterPin")}),(0,g.jsx)(r.Z,{sx:{paddingTop:9}}),(0,g.jsx)(d.Z,{ref:w,id:"create",numOfCell:6,value:"",isPassword:!0,onFilled:function(n){var e,i,t;n&&((0,x.vc)(n)?(null===(e=w.current)||void 0===e||e.setErrorMessage("PayME PIN kh\xf4ng h\u1ee3p l\u1ec7. B\u1ea1n ki\u1ec3m tra v\xe0 nh\u1eadp l\u1ea1i."),null===(i=w.current)||void 0===i||i.showError()):k("/create-pin-confirm?activeCode=".concat(D||"","&phone=").concat(y||"","&pin=").concat((null===(t=w.current)||void 0===t?void 0:t.value)||"")))}})]})})]})},m=i(1413),I=i(50228),T=i(48983),P=i(89704),k=i(34705),y=i(95218),D=i(57380),w=i(79482),O=i(4440),E=i(73915);function b(){var n,e,i,r,x=(0,h.CG)(C.Ty),j=(0,h.TL)(),Z=(0,v.$)().t,b=(0,h.CG)(C.vI),U=(0,h.CG)(O.hL),B=(0,u.lr)(),R=(0,t.Z)(B,1)[0],S=R.get("pin"),A=R.get("phone"),G=R.get("activeCode");console.log(U);var M=(0,c.s0)(),N=(0,o.useRef)(null);return(0,g.jsxs)(f.x,{children:[(0,g.jsx)(a.Z,{title:"CreatePinConfirm"}),(0,g.jsx)(s.u3,{display:"flex",sx:{padding:2.5,paddingBottom:"IOS"===(null===x||void 0===x||null===(n=x.platform)||void 0===n?void 0:n.toUpperCase())||"ANDROID"===(null===x||void 0===x||null===(e=x.platform)||void 0===e?void 0:e.toUpperCase())?0:2.5,paddingTop:"IOS"===(null===x||void 0===x||null===(i=x.platform)||void 0===i?void 0:i.toUpperCase())||"ANDROID"===(null===x||void 0===x||null===(r=x.platform)||void 0===r?void 0:r.toUpperCase())?0:2.5},flexDirection:"column",justifyContent:"space-between",children:(0,g.jsxs)(I.Z,{children:[(0,g.jsx)(p.Z,{isIconBack:!0,onClick:function(){return M(-1)}}),(0,g.jsx)(I.Z,{sx:{paddingTop:2.5}}),(0,g.jsx)(l.Z,{variant:"h2",children:Z("auth.confirmPin")}),(0,g.jsx)(I.Z,{sx:{paddingTop:.5}}),(0,g.jsx)(l.Z,{variant:"subtitle1",children:Z("auth.reEnterPin")}),(0,g.jsx)(I.Z,{sx:{paddingTop:9}}),(0,g.jsx)(d.Z,{ref:N,id:"confirm",numOfCell:6,value:"",isPassword:!0,onFilled:function(){var n,e,i;(null===(n=N.current)||void 0===n?void 0:n.value)===S?j(T.a.register({phone:A,clientId:b,password:(0,P.SHA256)(S).toString(),activeCode:G},(function(n,e){n&&(204100===e.code?j(w.u.getInfo({phone:A,clientId:b},(function(n,i){var t,o,l;n&&(204200===i.code?(j((0,k.jM)(e.data.accessToken)),j((0,O.ZC)((0,m.Z)((0,m.Z)({},null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.accountInfo),{},{isTrustDevice:!0}))),D.J.next({type:"jsPreferences",data:{accountInfo:(0,m.Z)((0,m.Z)({},null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.accountInfo),{},{isTrustDevice:!0})}}),(0,E.G)({accountInfo:null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.accountInfo})):y.Z.alertContent={title:"L\u1ed7i k\u1ebft n\u1ed1i",subtitle:i.message,firstButtonTitle:"\u0110\xe3 hi\u1ec3u"})}))):y.Z.alertContent={title:"L\u1ed7i k\u1ebft n\u1ed1i",subtitle:e.message,firstButtonTitle:"\u0110\xe3 hi\u1ec3u"})}))):(null===(e=N.current)||void 0===e||e.setErrorMessage(Z("auth.reEnterPinIncorrect")),null===(i=N.current)||void 0===i||i.showError())}})]})})]})}var U=Z}}]);
//# sourceMappingURL=309.fe571753.chunk.js.map